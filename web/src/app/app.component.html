<app-toast />
<app-confirm-dialog />

<div class="app-container">
  <div class="sidenav-overlay" [class.visible]="sidenavOpen()" (click)="toggleSidenav()"></div>
  <aside class="app-sidenav" [class.open]="sidenavOpen()">
    <a class="sidenav-header" routerLink="/" aria-label="Home" (click)="closeSidenavOnMobile()">
      <img src="bee.svg" alt="logo" class="logo-icon" />
      <span class="logo-text">qbt-cleanup</span>
    </a>
    <nav class="nav-list">
      @for (item of navItems; track item.path) {
        <a class="nav-item"
           [routerLink]="item.path"
           routerLinkActive="active-link"
           [routerLinkActiveOptions]="{ exact: item.path === '/' }"
           (click)="closeSidenavOnMobile()">
          <i [class]="item.icon"></i>
          <span>{{ item.label }}</span>
        </a>
      }
    </nav>
    <div class="sidenav-footer">
      @if (version()) {
        <span class="version-label">v{{ version() }}</span>
      }
    </div>
  </aside>

  <div class="app-content">
    <header class="app-toolbar">
      <div class="toolbar-start">
        <button class="btn btn-icon" (click)="toggleSidenav()" type="button" aria-label="Toggle navigation">
          <i class="fa-solid fa-bars"></i>
        </button>
        <span class="toolbar-title">qbt-cleanup</span>
      </div>
      <div class="toolbar-end">
        @if (version()) {
          <span class="toolbar-version">v{{ version() }}</span>
        }
      </div>
    </header>
    <div class="content-area">
      <router-outlet />
    </div>
  </div>
</div>
